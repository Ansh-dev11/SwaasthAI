<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SwaasthAI</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    <style>
     
      body {
        margin: 0;
        background-color: #252525;
        color: white;
        font-family: Arial, sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        overflow: hidden;
        padding-top: 70px;
        background-image: linear-gradient(#333 1px, transparent 1px),
          linear-gradient(90deg, #333 1px, transparent 1px);
        background-size: 40px 40px;
        animation: moveGrid 2s linear infinite;
        background-position: 0 0;
      }

      @keyframes moveGrid {
        0% {
          background-position: 0 0;
        }
        100% {
          background-position: 40px 40px;
        }
      }

      h1 {
        position: absolute;
        top: 10px;
        left: 10px;
        margin: 0;
        font-size: 24px;
        text-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
      }

      .input-container {
        display: flex;
        align-items: center;
        background-color: #3a3a3a;
        border-radius: 5px;
        padding: 5px;
        transition: opacity 0.5s ease;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      }
/* hi am aditya */
      input[type="text"] {
        border: none;
        outline: none;
        background: none;
        color: white;
        padding: 10px;
        font-size: 16px;
        flex: 1;
      }

      button {
        background-color: #4a4a4a;
        border: none;
        color: white;
        padding: 10px;
        cursor: pointer;
        border-radius: 0 5px 5px 0;
      }

      button:hover {
        background-color: #5a5a5a;
      }

      .hidden {
        opacity: 0;
        pointer-events: none;
      }

      .chat-box {
        display: none;
        flex-direction: column;
        justify-content: space-between;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        background-color: #3a3a3a;
        border-radius: 10px;
        padding: 20px;
        width: 400px;
        height: 300px;
        transition: opacity 0.5s ease;
        opacity: 0;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
      }

      .chat-box.visible {
        display: flex;
        opacity: 1;
      }

      .chat-messages {
        flex: 1;
        overflow-y: auto;
        margin-bottom: 10px;
      }

      .chat-message {
        margin: 5px 0;
        display: flex;
      }

      .chat-message.user {
        justify-content: flex-start;
      }

      .chat-message.bot {
        justify-content: flex-end;
      }

      .chat-message span {
        padding: 10px;
        border-radius: 10px;
        max-width: 70%;
      }

      .chat-message.user span {
        background-color: #4a4a4a;
        color: white;
        text-align: left;
      }

      .chat-message.bot span {
        background-color: #5a5a5a;
        color: white;
        text-align: right;
      }

      .chat-input {
        display: flex;
      }

      .chat-input input {
        flex: 1;
        padding: 10px;
        border: none;
        outline: none;
        background-color: #4a4a4a;
        color: white;
        border-radius: 5px 0 0 5px;
      }

      .chat-input button {
        background-color: #5a5a5a;
        border: none;
        color: white;
        padding: 10px;
        cursor: pointer;
        border-radius: 0 5px 5px 0;
      }

      .chat-input button:hover {
        background-color: #6a6a6a;
      }

      .refresh-button {
        margin-top: 10px;
        background-color: #4a4a4a;
        border: none;
        color: white;
        padding: 10px;
        cursor: pointer;
        border-radius: 5px;
        align-self: center;
      }

      .refresh-button:hover {
        background-color: #5a5a5a;
      }

      #greeting {
        display: none;
        text-align: center;
        font-size: 20px;
        font-weight: bold;
        position: absolute;
        top: calc(50% - 200px);
        left: 50%;
        transform: translateX(-50%);
        opacity: 0;
        transition: opacity 0.5s ease;
      }

      .side-buttons {
        display: none;
        flex-direction: column;
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        left: calc(50% + 240px);
        height: 300px;
        justify-content: space-between;
        opacity: 0;
        transition: opacity 0.5s ease;
      }

      .side-buttons.visible {
        display: flex;
        opacity: 1;
      }

      .side-button {
        width: 50px;
        height: 50px;
        background-color: #4a4a4a;
        color: white;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        transition: background-color 0.3s ease, transform 0.3s ease;
      }
      button {
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      }
      header {
        position: relative;
      }    
      .side-button:hover {
        background-color: #5a5a5a;
        transform: scale(1.1);
      }
      #logo{
        position: absolute;
        top: 2px;
        left: 9rem;
        
        
      }
    </style>
  </head>
  <body>
    <header
      style="
        background-color: transparent;
        color: white;
        padding: 10px 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        width: 100%;
        z-index: 1000;
      "
    >
      <h1
        style="margin: 0; font-size: 24px; line-height: 1; text-align: center"
      >
        SwaasthAI
      </h1>
      <img id="logo" src="SwaasthAI_Logo.png.png" height="40px" width="32px"/>
    </header>

    <div class="input-container" id="inputBox">
      <input type="text" placeholder="Enter your name" />
      <button onclick="showChatBox()">&#8594;</button>
    </div>

    <div id="greeting"></div>

    <div class="chat-box" id="chatBox">
      <div class="chat-messages" id="chatMessages"></div>
      <div class="chat-input">
        <input type="text" id="chatInput" placeholder="Type your message..." />
        <button onclick="sendMessage()">Send</button>
      </div>
      <button class="refresh-button" onclick="refreshChat()">Refresh</button>
    </div>

    <div class="side-buttons" id="sideButtons">
      <a href="appointment.html">
        <button class="side-button" title="Book Appointment" onclick="buttonFunction1()">
          <i class="fas fa-user-doctor fa-2x"></i>
        </button>
      </a>
      <a href="formfill.html">
        <button class="side-button" title="Fill Admission Form"  onclick="buttonFunction2()">
          <i class="fas fa-file-pen fa-2x"></i>
        </button>
      </a>
      <a href="upload.html">
        <button class="side-button" title="Upload Medical Records"  onclick="buttonFunction3()">
          <i class="fas fa-file-upload fa-2x"></i>
        </button>
      </a>
      <a href="about.html">
        <button class="side-button" title="About Us"  onclick="buttonFunction4()">
          <i class="fas fa-address-card fa-2x"></i>
        </button>
      </a>
    </div>

    <script src="h_c_j/ai.js"></script>

    <script>
      let userName = "";

      function showChatBox() {
        const inputBox = document.getElementById("inputBox");
        const chatBox = document.getElementById("chatBox");
        const sideButtons = document.getElementById("sideButtons");
        const greeting = document.getElementById("greeting");
        const inputField = inputBox.querySelector('input[type="text"]');

        userName = inputField.value.trim();
        if (!userName) {
          alert("Please enter your name to proceed.");
          return;
        }

        greeting.textContent = `Hi ${userName}...`;
        greeting.style.display = "block";

        inputBox.classList.add("hidden");

        setTimeout(() => {
          greeting.style.opacity = "1";
          chatBox.classList.add("visible");
          sideButtons.classList.add("visible");
        }, 500);
      }

      async function sendMessage() {
        const chatInput = document.getElementById("chatInput");
        const chatMessages = document.getElementById("chatMessages");
        const message = chatInput.value.trim();

        if (message) {
          const userMessage = document.createElement("div");
          userMessage.className = "chat-message user";
          userMessage.innerHTML = `<span>You: ${message}</span>`;
          chatMessages.appendChild(userMessage);

          const botMessage = document.createElement("div");
          botMessage.className = "chat-message bot";
          botMessage.innerHTML = `<span>Bot: Typing...</span>`;
          chatMessages.appendChild(botMessage);

          chatInput.value = "";
          chatMessages.scrollTop = chatMessages.scrollHeight;

          try {
            const botResponse = await askQuestion(message);
            botMessage.innerHTML = `<span>Bot: ${botResponse}</span>`;
          } catch (error) {
            botMessage.innerHTML = `<span>Bot: Sorry, I encountered an error.</span>`;
          }

          chatMessages.scrollTop = chatMessages.scrollHeight;
        }
      }
      document
        .getElementById("chatInput")
        .addEventListener("keydown", function (event) {
          if (event.key === "Enter") {
            sendMessage();
          }
        });

      function refreshChat() {
        const chatMessages = document.getElementById("chatMessages");
        chatMessages.innerHTML = "";
      }
    </script>
  </body>
</html>
